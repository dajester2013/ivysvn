#summary How to set up and configure an environment for running the unit tests.

=Unit testing=
This page assumes you have already followed the steps described in BuildingFromSource and can successfully build the ivysvnresolver.jar file.

*(TODO: flesh out the descriptions below to explain how to set up a webdav and svn repository and also how to use test.properties to control which one to use)*

==Set up a test Subversion repository==
The unit tests publish and retrieve data from Subversion and thus require a test Subversion repository. The user that runs the test must have read and write access to this repository. This repository should be used for testing only and not contain any production data as an errant unit test might delete everything in the repository (being svn of course you will have a backup but still!) 

You can either set up a repository to be tested using svnserver (i.e. using the svn:// protocol) or using Apache httpd (i.e using the http:// protocol). There are some differences in how !SvnKit (the library used by !IvySvn to communicate with Subversion) deals with the different repository types so ideally unit tests should be run successfully against both before submitting a patch. 

There are many different ways to set up Subversion. The steps below are the bare minimum needed to get the repository working for unit tests on Linux. Feel free to modify them to suit your environment or read through the relevant sections in [http://svnbook.red-bean.com/ Version Control With Subversion].

===Creating a repository===
The steps below create a repository with it's root located at 
{{{
/opt/ivysvntest/repo/root/
}}}
feel free to modify the paths to suit your own set up.
*Create the repository root folder, modify access permissions and create the Subversion repository root:
{{{
sudo mkdir -p ivysvntest/repo/root/
sudo chmod a+rwx ivysvntest/repo/root/
svnadmin create /opt/ivysvntest/repo/root/
}}}
*Edit the file
{{{
/opt/ivysvntest/repo/root/conf/svnserv.conf
}}}
and add the following in the `[`general`]` section:
{{{
password-db = passwd
}}}
*Edit the file
{{{
/opt/ivysvntest/repo/root/conf/passwd
}}}
and add the follwing in the `[`users`]` section:
{{{
testuser=testpassword
}}}
*Start the Subversion server as a daemon process:
{{{
svnserve -d
}}}




===Set up a !WebDav repository===
TODO:

==Configure the unit tests==
# Copy the file `test.properties.example` (located in `src/test/conf`) to `test.properties` and fill in the properties required to connect to the test Subversion repository created above.

==Run the unit tests==
# Run 
{{{
ant test
}}}
and the unit tests will be run, hopefully all passing.